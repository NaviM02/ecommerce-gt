import{a as k}from"./chunk-JM2MAADB.js";import"./chunk-BYXBJQAS.js";import{a as D}from"./chunk-WEV7XX4Q.js";import{a as N}from"./chunk-BBI2T2QI.js";import{a as A}from"./chunk-RYMPJAZU.js";import"./chunk-NCCT54UK.js";import"./chunk-FDP5RWEF.js";import{a as w}from"./chunk-IN5T55Q3.js";import{c as y,e as _,f as b,m as M}from"./chunk-XALT67XN.js";import{a as L}from"./chunk-5UWBJBBU.js";import{t as T}from"./chunk-HGKDJBZM.js";import{Cb as n,Db as o,Ea as u,Ga as i,Gb as I,Hb as P,Ib as C,La as m,Lb as E,Pa as v,_a as l,gb as h,hb as f,ib as r,jb as t,kb as s,sb as S,tb as g,wb as x}from"./chunk-DN3HB7UR.js";import"./chunk-PYEHUVGI.js";var F=c=>["/moderator/products",c],j=(c,a)=>a.productId;function B(c,a){if(c&1&&(r(0,"tr")(1,"td"),s(2,"img",16),t(),r(3,"td"),n(4),t(),r(5,"td"),n(6),t(),r(7,"td"),n(8),t(),r(9,"td"),n(10),t(),r(11,"td"),s(12,"app-status-product-badge",17),t(),r(13,"td",18),s(14,"app-table-row-action",19),t()()),c&2){let e=a.$implicit,d=g();i(2),x("alt",e.name),l("src",e.imageUrl?d.environment.imagesUrl+e.imageUrl:"/assets/placeholder.png",u),i(2),o(e.name),i(2),o(e.price),i(2),o(e.stock),i(2),o(e.averageRating),i(2),l("status",e.status),i(2),l("viewRoute",E(8,F,e.productId))}}var R=class c{constructor(a,e,d){this.productService=a;this.authService=e;this.toastService=d}products=[];filteredProducts=[];searchTerm="";ngOnInit(){this.findAll()}findAll(){this.authService.getUserId()&&this.productService.findAll(1).subscribe({next:e=>{this.products=e,this.filteredProducts=e},error:()=>this.toastService.error("Error del servidor")})}onSearchChange(){let a=this.searchTerm.toLowerCase().trim();this.filteredProducts=this.products.filter(e=>e.name.toLowerCase().includes(a))}environment=T;static \u0275fac=function(e){return new(e||c)(m(D),m(w),m(L))};static \u0275cmp=v({type:c,selectors:[["app-product-m-list"]],decls:27,vars:8,consts:[[1,"main-container"],[1,"body-container"],[1,"list-page-header-container"],["title","Productos","description","Peticiones de productos"],[1,"body","bg-white","h-100"],[1,"table-main-container","d-flex","flex-column","gap-3","h-60"],[1,"table-actions"],["type","text","placeholder","Buscar producto...",1,"form-control","w-auto",3,"ngModelChange","input","ngModel"],[1,"table-container"],[1,"table","sticky-header","sticky-actions"],[1,"th-image"],[1,"th-name"],[1,"th-price"],[1,"th-stock"],[1,"th-status"],[1,"th-actions","text-center"],["width","60",1,"rounded",3,"src","alt"],[3,"status"],[1,"text-center"],[3,"viewRoute"]],template:function(e,d){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),s(3,"app-list-page-header",3),t(),r(4,"div",4)(5,"div",5)(6,"div",6)(7,"input",7),C("ngModelChange",function(p){return P(d.searchTerm,p)||(d.searchTerm=p),p}),S("input",function(){return d.onSearchChange()}),t()(),r(8,"div",8)(9,"table",9)(10,"tr")(11,"th",10),n(12),t(),r(13,"th",11),n(14),t(),r(15,"th",12),n(16),t(),r(17,"th",13),n(18),t(),r(19,"th",14),n(20),t(),r(21,"th",14),n(22),t(),r(23,"th",15),n(24),t()(),h(25,B,15,10,"tr",null,j),t()()()()()()),e&2&&(i(7),I("ngModel",d.searchTerm),i(5),o("Imagen"),i(2),o("Nombre"),i(2),o("Precio"),i(2),o("Stock"),i(2),o("Rating"),i(2),o("Estado"),i(2),o("Acciones"),i(),f(d.filteredProducts))},dependencies:[A,k,N,M,y,_,b],encapsulation:2})};export{R as ProductMListComponent};
