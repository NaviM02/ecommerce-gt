import{X as o}from"./chunk-DN3HB7UR.js";var a=class s{items=[];constructor(){let t=localStorage.getItem("cart");t&&(this.items=JSON.parse(t))}getItems(){return this.items}addItem(t,e=1){let r=this.items.find(i=>i.product.productId===t.productId);r?r.quantity+=e:this.items.push({product:t,quantity:e}),this.save()}removeItem(t){this.items=this.items.filter(e=>e.product.productId!==t),this.save()}updateItemQuantity(t,e){let r=this.getItems(),i=r.findIndex(c=>c.product.productId===t);i!==-1&&(r[i].quantity=e,localStorage.setItem("cart",JSON.stringify(r)))}clear(){this.items=[],this.save()}getTotal(){return this.items.reduce((t,e)=>t+Number(e.product.price)*e.quantity,0)}save(){localStorage.setItem("cart",JSON.stringify(this.items))}static \u0275fac=function(e){return new(e||s)};static \u0275prov=o({token:s,factory:s.\u0275fac,providedIn:"root"})};export{a};
