import{a as V}from"./chunk-2BG3ZEW2.js";import{a as T}from"./chunk-3RHZJOR6.js";import"./chunk-EUW5MHSP.js";import{c as x}from"./chunk-QNPVVT5S.js";import{b as R}from"./chunk-BFNUI43J.js";import"./chunk-NCCT54UK.js";import"./chunk-FDP5RWEF.js";import{a as w}from"./chunk-NXHING3N.js";import"./chunk-IN5T55Q3.js";import"./chunk-XALT67XN.js";import{a as y}from"./chunk-5UWBJBBU.js";import{m as S,o as g}from"./chunk-HGKDJBZM.js";import{F as v,Ga as r,Kb as _,La as s,Lb as h,Pa as f,T as d,_a as o,ib as a,jb as n,kb as l,l as m,sb as b,x as p}from"./chunk-DN3HB7UR.js";import{c}from"./chunk-PYEHUVGI.js";var I=()=>["/admin","users"],N=U=>["/admin/users/edit",U],u=class u{constructor(t,i,e,D){this.userService=t;this.toastService=i;this.router=e;this.route=D}id;user=new x;userStatus=!0;ngOnInit(){this.route.paramMap.pipe(d(t=>this.id=Number(t.get("id"))),v(t=>p(()=>!!this.id,this.userService.findById(this.id).pipe(d(i=>{this.user=i,this.userStatus=i.active})),m(!1)))).subscribe({error:t=>{if(t.status===404){this.toastService.error("El recurso al que intentas acceder no existe o fue eliminado."),this.router.navigate(["admin","users"]);return}this.toastService.error("Ocurri\xF3 un error en el servidor, porfavor intenta m\xE1s tarde.")}})}onDelete(){this.id&&this.userService.delete(this.id).subscribe({next:t=>{this.toastService.success("msg_success_delete"),this.router.navigate(["admin","users"])},error:t=>this.toastService.error("msg_error_server")})}static \u0275fac=function(i){return new(i||u)(s(w),s(y),s(g),s(S))};static \u0275cmp=f({type:u,selectors:[["app-user-detail"]],decls:15,vars:12,consts:[[1,"main-container"],[1,"body-container"],[1,"detail-header-container"],["description","Usuarios que estan registrados en la aplicaci\xF3n",3,"deleteAction","backRoute","itemName","editRoute"],[1,"body","bg-white","w-100"],[1,"row"],["labelText","Estado",1,"col-12","col-lg-6","mb-3",3,"switchValue"],["labelText","Nombre completo",1,"col-12","col-lg-6","mb-3",3,"textValue"],["labelText","Usuario",1,"col-12","col-lg-6","mb-3",3,"textValue"],["labelText","Email",1,"col-12","col-lg-6","mb-3",3,"textValue"],["labelText","Tel\xE9fono",1,"col-12","col-lg-6","mb-3",3,"textValue"],["labelText","Rol",1,"col-12","col-lg-6","mb-3",3,"textValue"]],template:function(i,e){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-detail-page-header",3),b("deleteAction",function(){return e.onDelete()}),n()(),a(4,"div",4)(5,"div",5),l(6,"app-view-field",6),n(),a(7,"div",5),l(8,"app-view-field",7)(9,"app-view-field",8),n(),a(10,"div",5),l(11,"app-view-field",9)(12,"app-view-field",10),n(),a(13,"div",5),l(14,"app-view-field",11),n()()()()),i&2&&(r(3),o("backRoute",_(9,I))("itemName",e.user?e.user.fullName:"")("editRoute",h(10,N,e.id)),r(3),o("switchValue",e.userStatus),r(2),o("textValue",e.user.fullName),r(),o("textValue",e.user.username),r(2),o("textValue",e.user.email),r(),o("textValue",e.user.phone),r(2),o("textValue",e.user.role.roleName))},dependencies:[T,V],encapsulation:2})};c([R({title:"txt_delete_user",bodyQuestion:"txt_confirm_really_want_delete_user",bodyText:"txt_irreversible_action",confirmText:"txt_understand_delete"})],u.prototype,"onDelete",1);var E=u;export{E as UserDetailComponent};
