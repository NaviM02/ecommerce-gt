import{b as T}from"./chunk-HP5ROPUU.js";import{a as D}from"./chunk-2BG3ZEW2.js";import{a as O}from"./chunk-3RHZJOR6.js";import"./chunk-EUW5MHSP.js";import{f as E}from"./chunk-QNPVVT5S.js";import"./chunk-FDP5RWEF.js";import"./chunk-XALT67XN.js";import{a as I}from"./chunk-5UWBJBBU.js";import{g as x,h as y,m as h,o as g}from"./chunk-HGKDJBZM.js";import{Cb as n,Db as u,Ga as r,Kb as S,La as s,Pa as v,Pb as m,Rb as c,_a as d,gb as b,hb as f,ib as e,jb as t,kb as p}from"./chunk-DN3HB7UR.js";import"./chunk-PYEHUVGI.js";var w=()=>["/user/orders"],V=(l,i)=>i.productId;function M(l,i){if(l&1&&(e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),t(),e(5,"td"),n(6),m(7,"number"),t(),e(8,"td"),n(9),m(10,"number"),t()()),l&2){let a=i.$implicit;r(2),u(a.productName),r(2),u(a.quantity),r(2),u(c(7,4,a.price,"1.2-2")),r(3),u(c(10,7,a.price*a.quantity,"1.2-2"))}}var C=class l{constructor(i,a,o,P){this.route=i;this.router=a;this.orderService=o;this.toastService=P}orderId;order=new E;ngOnInit(){this.route.paramMap.subscribe(i=>{this.orderId=Number(i.get("id")),this.orderId&&this.loadOrder()})}loadOrder(){this.orderService.findById(this.orderId).subscribe({next:i=>this.order=i,error:i=>{this.toastService.error("Error al cargar la orden"),this.router.navigate(["/user/orders"])}})}getStatusLabel(i){switch(i){case 1:return"En curso";case 2:return"Entregado";default:return"Desconocido"}}static \u0275fac=function(a){return new(a||l)(s(h),s(g),s(T),s(I))};static \u0275cmp=v({type:l,selectors:[["app-order-detail"]],decls:33,vars:17,consts:[[1,"main-container"],[1,"body-container"],[1,"detail-header-container"],["description","Historial de \xF3rdenes",3,"backRoute","itemName"],[1,"body","bg-white","w-100","p-5"],[1,"row","mb-3"],["labelText","Estado",1,"col-12","col-lg-6",3,"textValue"],["labelText","Usuario",1,"col-12","col-lg-6",3,"textValue"],["labelText","Fecha de la orden",1,"col-12","col-lg-6",3,"textValue"],["labelText","Fecha de entrega",1,"col-12","col-lg-6",3,"textValue"],["labelText","Total",1,"col-12","col-lg-6",3,"textValue"],[1,"mt-4","mb-2"],[1,"table-container"],[1,"table","table-bordered"],[1,"table-light"]],template:function(a,o){a&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),p(3,"app-detail-page-header",3),t(),e(4,"div",4)(5,"div",5),p(6,"app-view-field",6)(7,"app-view-field",7),t(),e(8,"div",5),p(9,"app-view-field",8),m(10,"date"),p(11,"app-view-field",9),m(12,"date"),t(),e(13,"div",5),p(14,"app-view-field",10),m(15,"number"),t(),e(16,"h5",11),n(17,"Detalles de la orden"),t(),e(18,"div",12)(19,"table",13)(20,"thead",14)(21,"tr")(22,"th"),n(23,"Producto"),t(),e(24,"th"),n(25,"Cantidad"),t(),e(26,"th"),n(27,"Precio"),t(),e(28,"th"),n(29,"Subtotal"),t()()(),e(30,"tbody"),b(31,M,11,10,"tr",null,V),t()()()()()()),a&2&&(r(3),d("backRoute",S(16,w))("itemName","Orden #"+o.order.orderId),r(3),d("textValue",o.getStatusLabel(o.order.status)),r(),d("textValue",o.order.username),r(2),d("textValue",c(10,7,o.order.orderDate,"dd/MM/yyyy")+""),r(2),d("textValue",c(12,10,o.order.deliveryDate,"dd/MM/yyyy")+""),r(3),d("textValue",c(15,13,o.order.totalPrice,"1.2-2")+" GTQ"),r(17),f(o.order.details))},dependencies:[y,O,D,x],encapsulation:2})};export{C as OrderDetailComponent};
