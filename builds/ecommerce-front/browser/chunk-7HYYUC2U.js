import{b as B}from"./chunk-HP5ROPUU.js";import{a as k}from"./chunk-BBI2T2QI.js";import{a as G}from"./chunk-RYMPJAZU.js";import"./chunk-NCCT54UK.js";import"./chunk-FDP5RWEF.js";import{e as P,f as y,h as w,i as D,j as N,m as A}from"./chunk-XALT67XN.js";import{a as F}from"./chunk-5UWBJBBU.js";import{g as M,h as T}from"./chunk-HGKDJBZM.js";import{Cb as i,Db as s,Eb as C,Ga as a,Gb as b,Hb as L,Ib as _,La as m,Lb as I,Pa as g,Pb as p,Rb as u,Ua as f,_a as S,db as v,gb as h,hb as E,ib as t,jb as e,kb as c,sb as O,tb as x}from"./chunk-DN3HB7UR.js";import"./chunk-PYEHUVGI.js";var j=o=>[o],H=(o,n)=>n.orderId;function z(o,n){if(o&1&&(t(0,"tr")(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td"),i(6),p(7,"date"),e(),t(8,"td"),i(9),e(),t(10,"td"),i(11),p(12,"number"),e(),t(13,"td",14),c(14,"app-table-row-action",16),e()()),o&2){let r=n.$implicit,d=x();a(2),s(r.orderId),a(2),s(r.username),a(2),s(u(7,6,r.deliveryDate,"shortDate")),a(3),s(d.getStatusLabel(r.status)),a(2),C("",u(12,9,r.totalPrice,"1.2-2")," GTQ"),a(3),S("viewRoute",I(12,j,r.orderId))}}function Q(o,n){o&1&&(t(0,"p",15),i(1,"No hay \xF3rdenes para mostrar"),e())}var R=class o{constructor(n,r){this.orderService=n;this.toastService=r}orders=[];filteredOrders=[];selectedStatus="ALL";ngOnInit(){this.findAll()}findAll(){this.orderService.findAll().subscribe({next:n=>{this.orders=n,this.filteredOrders=n},error:()=>this.toastService.error("Error del servidor")})}getStatusLabel(n){switch(n){case 1:return"En curso";case 2:return"Entregado";default:return"Desconocido"}}onStatusChange(){if(this.selectedStatus==="ALL")this.filteredOrders=this.orders;else{let n=this.selectedStatus==="COMING"?1:2;this.filteredOrders=this.orders.filter(r=>r.status===n)}}static \u0275fac=function(r){return new(r||o)(m(B),m(F))};static \u0275cmp=g({type:o,selectors:[["app-pending-orders-list"]],decls:34,vars:2,consts:[[1,"main-container"],[1,"body-container"],[1,"list-page-header-container"],["title","Historial de \xF3rdenes","description","Todas tus \xF3rdenes realizadas"],[1,"body","bg-white","h-100"],[1,"table-main-container","d-flex","flex-column","gap-3","h-60"],[1,"table-actions","d-flex","align-items-center","gap-3"],[1,"fw-bold","mb-0"],[1,"form-select","w-auto",3,"ngModelChange","change","ngModel"],["value","ALL"],["value","COMING"],["value","COMPLETED"],[1,"table-container"],[1,"table","sticky-header","sticky-actions"],[1,"text-center"],[1,"text-center","text-muted","mt-3"],[3,"viewRoute"]],template:function(r,d){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),c(3,"app-list-page-header",3),e(),t(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),i(8,"Filtrar por estado:"),e(),t(9,"select",8),_("ngModelChange",function(l){return L(d.selectedStatus,l)||(d.selectedStatus=l),l}),O("change",function(){return d.onStatusChange()}),t(10,"option",9),i(11,"Todos"),e(),t(12,"option",10),i(13,"En curso"),e(),t(14,"option",11),i(15,"Entregados"),e()()(),t(16,"div",12)(17,"table",13)(18,"tr")(19,"th"),i(20,"ID"),e(),t(21,"th"),i(22,"Usuario"),e(),t(23,"th"),i(24,"Entrega"),e(),t(25,"th"),i(26,"Estado"),e(),t(27,"th"),i(28,"Total"),e(),t(29,"th",14),i(30,"Acciones"),e()(),h(31,z,15,14,"tr",null,H),e(),f(33,Q,2,0,"p",15),e()()()()()),r&2&&(a(9),b("ngModel",d.selectedStatus),a(22),E(d.filteredOrders),a(2),v(d.orders.length?-1:33))},dependencies:[M,T,G,k,A,D,N,w,P,y],encapsulation:2})};export{R as PendingOrdersListComponent};
