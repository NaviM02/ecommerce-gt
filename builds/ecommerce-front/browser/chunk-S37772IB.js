import{a as M,b as L}from"./chunk-CD5EVJVO.js";import{a as q}from"./chunk-Q5ZSNGML.js";import{a as E}from"./chunk-GYVK5SZF.js";import{a as P}from"./chunk-QNPVVT5S.js";import{a as I}from"./chunk-IN5T55Q3.js";import{e as b,f as R,m as x}from"./chunk-XALT67XN.js";import{a as F}from"./chunk-5UWBJBBU.js";import{o as y,p as C}from"./chunk-HGKDJBZM.js";import{Cb as o,Db as s,Ga as r,Gb as d,Hb as m,Ib as g,Kb as w,La as c,Pa as f,_a as S,ib as e,jb as t,kb as l,sb as _,wb as u}from"./chunk-DN3HB7UR.js";import"./chunk-PYEHUVGI.js";var k=()=>["/c/signup"],T=class h{constructor(n,p,i){this.authService=n;this.toastService=p;this.router=i}authReq=new P;doLogin(){if(!this.isValid){this.toastService.warning("Por favor completa todos los campos requeridos.");return}this.authService.doLogin(this.authReq).subscribe({next:n=>{this.toastService.success("Inicio de sesi\xF3n exitoso"),this.router.navigate(["dashboard"])},error:n=>{if(n.error.error=="wrong_credentials")return this.toastService.error("Usuario o contrase\xF1a incorrectos");if(n.error.error=="inactive_user")return this.toastService.error("Usuario inactivo");if(n.error.error=="user_sanctioned")return this.toastService.error("Usuario sancionado");this.toastService.error("Error en el servidor, intenta m\xE1s tarde")}})}get isValid(){return!!this.authReq.username&&!!this.authReq.password&&!!this.authReq.username.trim()&&!!this.authReq.password.trim()}static \u0275fac=function(p){return new(p||h)(c(I),c(F),c(y))};static \u0275cmp=f({type:h,selectors:[["app-login-page"]],decls:27,vars:12,consts:[[1,"w-100","vh-100",2,"overflow","hidden"],[1,"row","h-100"],[1,"col-12","col-md-6","h-100","d-none","d-md-block"],[1,"col-12","col-md-6","h-100","d-flex","align-items-center"],[1,"d-flex","justify-content-between","flex-column","gap-3","w-75","mx-auto"],[1,"h4"],[1,"m-0"],[1,"form-group"],["id","username",1,"required-field"],["inputType","text","icon","account_circle","iconPosition","left",3,"ngModelChange","ngModel","placeholder"],["id","password",1,"required-field"],["iconPosition","left",3,"ngModelChange","ngModel","placeholder"],[1,"fw-bold","text-secondary","text-end","recovery"],["type","button",1,"btn","btn-primary",3,"click"],[1,"m-0","text-center"],["role","button",1,"fw-bold","text-secondary","mx-auto","hover-bs-primary","recovery",3,"routerLink"]],template:function(p,i){p&1&&(e(0,"main",0)(1,"div",1)(2,"div",2),l(3,"app-login-banner"),t(),e(4,"div",3)(5,"div",4)(6,"p",5),o(7),t(),e(8,"p",6),o(9),t(),l(10,"app-required-indicator"),e(11,"div",7)(12,"label",8),o(13),t(),e(14,"app-input-with-icon",9),g("ngModelChange",function(a){return m(i.authReq.username,a)||(i.authReq.username=a),a}),t()(),e(15,"div",7)(16,"label",10),o(17),t(),e(18,"app-input-for-password",11),g("ngModelChange",function(a){return m(i.authReq.password,a)||(i.authReq.password=a),a}),t()(),e(19,"span",12),o(20),t(),e(21,"button",13),_("click",function(){return i.doLogin()}),o(22),t(),e(23,"p",14),o(24,"\xBFNo tienes una cuenta a\xFAn?"),t(),e(25,"span",15),o(26," Crear cuenta "),t()()()()()),p&2&&(r(7),s("Iniciar sesi\xF3n"),r(2),s("Ingresa tus datos para continuar"),r(4),s("Nombre de usuario"),r(),u("placeholder","Ej. usuario123"),d("ngModel",i.authReq.username),r(3),s("Contrase\xF1a"),r(),u("placeholder","Ingresa tu contrase\xF1a"),d("ngModel",i.authReq.password),r(2),s("Recuperar contrase\xF1a"),r(2),s("Iniciar sesi\xF3n"),r(3),S("routerLink",w(11,k)))},dependencies:[x,b,R,L,q,M,E,C],styles:["span.recovery[_ngcontent-%COMP%]{cursor:pointer}span.recovery[_ngcontent-%COMP%]:hover{color:var(--bs-primary)!important}"]})};export{T as LoginPageComponent};
