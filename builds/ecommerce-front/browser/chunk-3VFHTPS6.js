import{a as q}from"./chunk-CTBSQTUV.js";import{a as O,b as Y,c as u,d as A}from"./chunk-NCCT54UK.js";import{a as H}from"./chunk-FDP5RWEF.js";import{c as R,e as j,f as W,m as B}from"./chunk-XALT67XN.js";import{d as P}from"./chunk-HGKDJBZM.js";import{Bb as g,Cb as w,Ga as s,Gb as E,Hb as T,Ib as V,Jb as x,La as D,Lb as L,Pa as y,Ua as I,X as C,_a as d,db as k,ia as r,ib as c,ja as l,jb as m,ka as h,kb as v,lb as M,mb as S,ob as F,pa as _,sb as p,tb as N}from"./chunk-DN3HB7UR.js";var G=i=>({"is-invalid":i});function J(i,e){if(i&1&&v(0,"app-input-invalid-feedback",4),i&2){let t=N();d("message",t.txtInvalidFeedback)}}var f=class i extends u{DELIMITER="/";parse(e){if(!e)return null;let t=e.split(this.DELIMITER);return{day:parseInt(t[0],10),month:parseInt(t[1],10),year:parseInt(t[2],10)}}format(e){return e?e.day+this.DELIMITER+e.month+this.DELIMITER+e.year:""}static \u0275fac=(()=>{let e;return function(n){return(e||(e=h(i)))(n||i)}})();static \u0275prov=C({token:i,factory:i.\u0275fac})},z=class i{constructor(e){this.calendar=e}_model;disabled=!1;txtInvalidFeedback="Fecha no inv\xE1lida";modelChange=new _;set model(e){if(!e)return;let t=new Date(e);isNaN(t.getTime())||(this._model={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()})}onModelChange(e){let t=O.from(this._model);if(!this.calendar.isValid(t)){this.modelChange.emit("");return}let n=new Date;n.setFullYear(this._model.year,this._model.month-1,this._model.day),n.setHours(0,0,0,0),this.modelChange.emit(n.toISOString())}static \u0275fac=function(t){return new(t||i)(D(Y))};static \u0275cmp=y({type:i,selectors:[["app-single-datepicker"]],inputs:{disabled:"disabled",txtInvalidFeedback:"txtInvalidFeedback",model:"model"},outputs:{modelChange:"modelChange"},features:[x([{provide:u,useClass:f}])],decls:9,vars:6,consts:[["c","ngModel","d","ngbDatepicker"],[1,"input-group","single-datepicker",3,"ngClass"],["placeholder","dd/mm/yyyy","name","dp","ngbDatepicker","","placement","bottom-end",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","btn-outline-primary",3,"click"],[3,"message"]],template:function(t,n){if(t&1){let o=F();M(0),c(1,"div",1)(2,"input",2,0),V("ngModelChange",function(a){return r(o),T(n._model,a)||(n._model=a),l(a)}),p("ngModelChange",function(a){return r(o),l(n.onModelChange(a))}),m(),c(5,"button",3),p("click",function(){r(o);let a=g(4);return l(a.toggle())}),c(6,"app-material-icon"),w(7,"calendar_month"),m()()(),I(8,J,1,1,"app-input-invalid-feedback",4),S()}if(t&2){let o=g(3);s(),d("ngClass",L(4,G,o.touched&&(!n._model||o.invalid))),s(),E("ngModel",n._model),d("disabled",n.disabled),s(6),k(n.txtInvalidFeedback?8:-1)}},dependencies:[B,R,j,W,A,H,P,q],encapsulation:2})};export{z as a};
